import styles from '../styles/Join.module.css';
import Image from 'next/image'
import Head from 'next/head'
import axios from 'axios'

let input_fields = [
    "Usuario", "Correo", "Género", "País", "Contraseña",
    "Repetir Contraseña"
];

const log_butt = '/buttons/LOG-IN.png';
const join_butt = '/buttons/JOIN.png';

export default function Join (){
    return (
        <div>
            <Head>
                <title>Join PPC Games</title>
                <meta name="description" content="Generated by create next app" />
                <meta name="viewport" content="width=device-width, initial-scale=1" />
            </Head>
            <main>          
                <div className = {styles.Background}                >
                    <div className = {styles.AllInside}>
                        <div className = {styles.logo}>
                            <Image
                            src="/pages_imgs/logo_PPC.png"
                            alt="Logo de PPC Games"
                            width={200}
                            height={300}
                            priority                    
                            />
                        </div>
                        <h2>Únete a PPC Games</h2>
                        <form>
                            <div className={styles.gridInputs}>
                                {input_fields.map((inp)=>{
                                    return (<input 
                                        type="text" 
                                        placeholder={inp}
                                        onSubmit={(e)=>e.preventDefault()}>                                                                                        
                                    </input>);
                                })}
                            </div>
                            <div className = {styles.LoginButton}>
                                <PPCButts url={join_butt}/>
                            </div>
                            <footer>
                                <h3>Copyright © PPC Team 2023</h3>
                            </footer>
                        </form>
                    </div>    
                </div>
            </main>
        </div>
        
    );
}

function PPCButts(props: object){
    const { url } = props;
    function handleClick(){
        axios.get(`/api/handleJoinRequest`)
        .then((res) => alert(res.data))
        .then((res)=>console.log(res))
        .catch((err) => alert(err));
        
    }
    return (
        <button type="button" onClick={handleClick} className={styles.Butts}>
            
        </button>
    );
}